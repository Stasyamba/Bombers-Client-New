<?xml version="1.0" encoding="utf-8"?>
<s:ItemRenderer xmlns:mx1="http://ns.adobe.com/mxml/mx"
				xmlns:mx="library://ns.adobe.com/flex/mx"
				xmlns:fx="http://ns.adobe.com/mxml/2009"
				xmlns:s="library://ns.adobe.com/flex/spark"
				autoDrawBackground="false"
				width="110" height="110" xmlns:flexcomponents="components.common.flexcomponents.*"
				>
	<s:layout>
		<s:BasicLayout />
	</s:layout>
	
	
	<s:states>
		<s:State name="normal" />
		<s:State name="hovered" />
		<s:State name="selected" />
		<fx:Script>
			<![CDATA[
				import skins.buttons.Pattern3ButtonS;
			]]>
		</fx:Script>
	</s:states>
	
	
	<fx:Script>
		<![CDATA[
			import skins.buttons.AskButtonS;
			import mx.controls.Alert;
			import components.common.friendslent.FriendObject;
		
			override public function set data(value:Object):void {
				super.data = value;
				
				gotFriendGroup.visible = false;
				inviteFriendGroup.visible = false;
				baseInsideBg.visible = true;
				levelGroup.visible = false;
				askButton.visible = false;
				
				if(data != null)
				{
					levelGroup.visible = true;
					gotFriendGroup.visible = true;
					
					baseInsideBg.visible = false;
					inviteFriendGroup.visible = false;
					
					if(data is FriendObject)
					{
						userPhoto.initPhoto((data as FriendObject).profile.photoURL);
						levelLabel.text = Context.Model.experianceManager.getLevel((data as FriendObject).profile.experience).level.toString() +" ур.";
						if((data as FriendObject).isAskingForHelp)
						{
							askButton.visible = true;
						}
					}else
					{
						Alert.show("Error data is not FriendObject | FriendIR");
					}
					
					
					
				}else
				{
					inviteFriendGroup.visible = true;
					gotFriendGroup.visible = false;
				}
			}
			
		]]>
	</fx:Script>
	<s:HGroup horizontalAlign="center" verticalAlign="middle"
			  width="110" height="110">
		<s:Group>
			<s:BorderContainer backgroundColor="0x2d2515"
							   width="84" height="84"
							   cornerRadius="0"
							   borderVisible="false"
							   id="baseBg"
							   >
				<s:filters>
					<s:DropShadowFilter distance="2" alpha="0.5" />
				</s:filters>
			</s:BorderContainer>
			
			<s:BorderContainer backgroundImage="@Embed(source='assets/pageworld/subbottompanel/friendSlotInsideRectBg.jpg')"
							   backgroundImageFillMode="repeat"
							   width="72" height="72"
							   cornerRadius="0"
							   x="6" y="6"
							   borderVisible="false"
							   id="baseInsideBg"
							   />
			
			<s:HGroup width="72" height="72"
					  x="6" y="6"
					  horizontalAlign="center" verticalAlign="middle"
					  id="inviteFriendGroup"
					  visible="false"
					  alpha="0.4"
					  >
				<s:Label text="{'Позвать\nдруга'}" color="0xfdc600" fontFamily="mpbc" fontSize="14" textAlign="center" />
			</s:HGroup>
			
			<s:HGroup width="72" height="72"
					  x="6" y="6"
					  horizontalAlign="center" verticalAlign="middle"
					  id="gotFriendGroup"
					  visible="false"
					  >
				<flexcomponents:UserPhotoGroup id="userPhoto" basePhotoSizeH="72" basePhotoSizeW="72" borderHeight="0" borderWitdh="0"
											   isHandCursor="false"
											   />
			</s:HGroup>
			
			<s:Group id="levelGroup" visible="false"
					 x="38" y="59"
					 >
				<s:BitmapImage source="@Embed(source='assets/pageworld/subbottompanel/levelBg.png')" smooth="true" />
				<s:HGroup width="100%" height="100%"
						  horizontalAlign="center" verticalAlign="middle">
					<s:Label id="levelLabel" fontFamily="mpbc" fontSize="14" color="0xfdc600" />
				</s:HGroup>
			</s:Group>
			
			<s:Button id="askButton" x="-5" y="-5"
					  skinClass="skins.buttons.AskButtonS" visible="false"
					  useHandCursor="true" buttonMode="true"
					  />
			
		</s:Group>
	</s:HGroup>
	
	
	
	
</s:ItemRenderer>