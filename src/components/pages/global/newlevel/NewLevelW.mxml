<?xml version="1.0" encoding="utf-8"?>
<s:Panel xmlns:mx="library://ns.adobe.com/flex/mx"
		 xmlns:mx1="library://ns.adobe.com/flex/halo"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:fx="http://ns.adobe.com/mxml/2009"
		 creationComplete="panelCreationComplete();"
		 borderVisible="false"
		 dropShadowVisible="false"
		 skinClass="skins.common.EmptyPopUpS"
		 width="368" height="394"
		 alpha="0" 
		 xmlns:daybonus="components.pages.world.windows.daybonus.*" 
		 xmlns:flexcomponents="components.common.flexcomponents.*" 
		 >
	<fx:Script>
		<![CDATA[
			import components.common.resources.ResourceType;
			
			import skins.buttons.Pattern2ButtonS;
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		
		<s:Sequence id="disapearingAnimation" effectEnd="{close();}">
			<s:Animate target="{this}" duration="200">
				<s:SimpleMotionPath property="alpha"
									valueFrom="{this.alpha}"
									valueTo="0"
									/>
			</s:Animate>
		</s:Sequence>
		
		<s:Parallel id="apearingAnimation" startDelay="400">
			<s:Animate target="{this}" duration="500">
				<s:SimpleMotionPath property="alpha"
									valueFrom="{this.alpha}"
									valueTo="1"
									/>
			</s:Animate>
		</s:Parallel>
		
	</fx:Declarations>
	
	<fx:Script>
		<![CDATA[
			import components.common.superoffer.SuperOfferObject;
			
			import mx.managers.PopUpManager;
			
			[Bindable] public var currentDay: int = 2;
			
			public function close():void {
				
				PopUpManager.removePopUp(this);
			}
			
			public function closeWrapper():void {
				disapearingAnimation.play();
			}
			
			private function panelCreationComplete():void {
				apearingAnimation.play();
				
				for(var i: int = 0; i <= bonusSlotsGroup.numElements - 1; i++)
				{
					var el: * = bonusSlotsGroup.getElementAt(i);
					
					if(el is BonusSlot)
					{
						var day: int = (el as BonusSlot).day;
						if(day <= currentDay)
						{
							(el as BonusSlot).initContent(true);
						}else
						{
							(el as BonusSlot).initContent(false);
						}
					}
				}
			}
			
			private function closeWrapper1(e:ContextEvent): void
			{
				closeWrapper();
			}
			
			private function initContent():void 
			{	
			}
			
		]]>
	</fx:Script>
	<s:layout>
		<s:BasicLayout/>
	</s:layout>
	
	<s:BorderContainer backgroundImage="@Embed(source='assets/windows/bg.jpg')"
					   backgroundImageFillMode="repeat"
					   width="100%" height="100%"
					   cornerRadius="35"
					   borderVisible="true"
					   borderColor="0x322a17" borderWeight="4"
					   >
		<s:filters>
			<s:DropShadowFilter alpha="0.4" distance="3" />
		</s:filters>
	</s:BorderContainer>
	
	
	<s:VGroup width="100%" height="100%" horizontalAlign="center" verticalAlign="top" gap="30" paddingTop="25">
		
		<s:Label text="{'Заходите в игру несколько дней подряд и получайте\nкрутые бонусы!'}" textAlign="center"
				 fontFamily="mpr" fontSize="18"
				 color="0xffd23c"
				 />
		
		<s:Label text="Вы заходите: {currentDay} день"  
				 fontFamily="mpbc" fontSize="36"
				 color="0xff9c00"
				 />
		
		<s:VGroup horizontalAlign="center" gap="15">
			
			<flexcomponents:PatternButton customLabel="Забрать" skinClass="skins.buttons.Pattern3ButtonS"
										  fontSize="26" fontSizeOver="26"
										  scale="0.8"
										  fontColor="0xfff19f"
										  />
		</s:VGroup>
		
	</s:VGroup>
	
	
	<s:controlBarContent/>
</s:Panel>